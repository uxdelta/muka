import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Design Tokens/02 - Primitives (T1)" />

# T1: Primitives Layer

The primitives layer contains **raw, immutable design values** that form the foundation of the entire token system. These are context-free, brand-agnostic values that never change based on theme or brand.

## Location

```
tokens/t1-primitives/
├── color.json       # Color palettes
├── typography.json  # Font definitions
└── scale.json       # Spacing, sizing, radius
```

## ⚠️ Important Rule

**Never use primitive tokens directly in components!**

Primitives should only be referenced by the alias layer (T2). This ensures components can adapt to different brands and themes.

## Color Palettes

The system includes comprehensive color scales from Radix Colors, each with 12 steps for perfect contrast ratios.

### Neutral Grays

<div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(120px, 1fr))', gap: '1rem', marginBottom: '2rem' }}>
  {[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12].map(step => (
    <div key={step} style={{ textAlign: 'center' }}>
      <div style={{
        backgroundColor: `var(--color-gray-${step})`,
        height: '80px',
        borderRadius: '0.5rem',
        border: '1px solid rgba(0,0,0,0.1)',
        marginBottom: '0.5rem'
      }} />
      <code style={{ fontSize: '0.75rem' }}>gray.{step}</code>
    </div>
  ))}
</div>

**Available Gray Scales:**
- `gray` - Pure neutral gray
- `mauve` - Purple-tinted gray
- `slate` - Blue-tinted gray
- `sage` - Green-tinted gray
- `olive` - Warm green-tinted gray
- `sand` - Warm beige-tinted gray

### Color Families

**Primary Colors:**
- `red` - Error states, destructive actions
- `orange` - Warnings, highlights
- `amber` - Caution, pending states
- `yellow` - Highlights, emphasis
- `lime` - Success, positive states
- `green` - Success, confirmation
- `teal` - Information, neutral success
- `cyan` - Information, data visualization
- `blue` - Information, links, primary actions
- `indigo` - **Muka brand color**, primary actions
- `violet` - Accent, creative elements
- `purple` - Accent, premium features
- `pink` - Accent, highlights
- `crimson` - Error, critical states

### Color Scale Structure

Each color has 12 steps designed for specific use cases:

| Step | Light Theme Use | Dark Theme Use | Example |
|------|----------------|----------------|---------|
| 1-2 | App backgrounds | - | Subtle surfaces |
| 3-5 | Component backgrounds | - | Buttons, cards |
| 6-8 | Borders, separators | - | Subtle borders |
| 9 | Primary/default state | Primary/default | Main action color |
| 10 | Hover state | Hover state | Interactive feedback |
| 11 | Text, high contrast | Text, high contrast | Labels, body text |
| 12 | Headings, emphasis | Headings, emphasis | Strong emphasis |

### Example: Indigo Scale (Muka Brand)

```json
{
  "color": {
    "indigo": {
      "1": { "$type": "color", "$value": "#fdfdfe" },
      "2": { "$type": "color", "$value": "#f7f9ff" },
      "3": { "$type": "color", "$value": "#edf2fe" },
      "4": { "$type": "color", "$value": "#e1e9ff" },
      "5": { "$type": "color", "$value": "#d2deff" },
      "6": { "$type": "color", "$value": "#c1d0ff" },
      "7": { "$type": "color", "$value": "#abbdf9" },
      "8": { "$type": "color", "$value": "#8da4ef" },
      "9": { "$type": "color", "$value": "#3e63dd" },
      "10": { "$type": "color", "$value": "#3358d4" },
      "11": { "$type": "color", "$value": "#3a5ccc" },
      "12": { "$type": "color", "$value": "#1f2d5c" }
    }
  }
}
```

### Alpha Colors

For transparency and overlays:

```json
{
  "color": {
    "black-alpha": {
      "1": { "$value": "rgba(0, 0, 0, 0.012)" },
      "2": { "$value": "rgba(0, 0, 0, 0.027)" },
      ...
      "12": { "$value": "rgba(0, 0, 0, 0.910)" }
    },
    "white-alpha": {
      "1": { "$value": "rgba(255, 255, 255, 0.012)" },
      ...
    }
  }
}
```

## Spacing Scale

A consistent spacing system based on multiples of 0.25rem (4px):

<div style={{ marginBottom: '2rem' }}>
  {[0, 1, 2, 3, 4, 5, 6, 8, 10, 12, 16, 20, 24].map(step => (
    <div key={step} style={{ display: 'flex', alignItems: 'center', gap: '1rem', marginBottom: '0.5rem' }}>
      <code style={{ width: '80px', fontSize: '0.875rem' }}>spacing.{step}</code>
      <div style={{
        backgroundColor: 'var(--color-action-default)',
        height: '24px',
        width: `calc(${step} * 0.25rem)`,
        borderRadius: '0.25rem',
        minWidth: '2px'
      }} />
      <span style={{ fontSize: '0.75rem', color: 'var(--color-text-subtle-default)' }}>
        {step * 0.25}rem ({step * 4}px)
      </span>
    </div>
  ))}
</div>

```json
{
  "spacing": {
    "0": { "$type": "dimension", "$value": "0px" },
    "1": { "$type": "dimension", "$value": "0.25rem" },
    "2": { "$type": "dimension", "$value": "0.5rem" },
    "3": { "$type": "dimension", "$value": "0.75rem" },
    "4": { "$type": "dimension", "$value": "1rem" },
    "5": { "$type": "dimension", "$value": "1.25rem" },
    "6": { "$type": "dimension", "$value": "1.5rem" },
    "8": { "$type": "dimension", "$value": "2rem" },
    "10": { "$type": "dimension", "$value": "2.5rem" },
    "12": { "$type": "dimension", "$value": "3rem" },
    "16": { "$type": "dimension", "$value": "4rem" },
    "20": { "$type": "dimension", "$value": "5rem" },
    "24": { "$type": "dimension", "$value": "6rem" }
  }
}
```

## Border Radius

Consistent corner rounding:

<div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))', gap: '1.5rem', marginBottom: '2rem' }}>
  {[
    { name: 'sm', value: '0.1875rem', px: '3px' },
    { name: 'md', value: '0.375rem', px: '6px' },
    { name: 'lg', value: '0.75rem', px: '12px' },
    { name: 'xl', value: '1.5rem', px: '24px' },
    { name: '2xl', value: '3rem', px: '48px' }
  ].map(({ name, value, px }) => (
    <div key={name} style={{ textAlign: 'center' }}>
      <div style={{
        backgroundColor: 'var(--color-action-default)',
        height: '80px',
        borderRadius: value,
        marginBottom: '0.5rem'
      }} />
      <code style={{ fontSize: '0.75rem', display: 'block' }}>radius.{name}</code>
      <span style={{ fontSize: '0.7rem', color: 'var(--color-text-subtle-default)' }}>
        {value} ({px})
      </span>
    </div>
  ))}
</div>

```json
{
  "radius": {
    "sm": { "$type": "borderRadius", "$value": "0.1875rem" },
    "md": { "$type": "borderRadius", "$value": "0.375rem" },
    "lg": { "$type": "borderRadius", "$value": "0.75rem" },
    "xl": { "$type": "borderRadius", "$value": "1.5rem" },
    "2xl": { "$type": "borderRadius", "$value": "3rem" },
    "full": { "$type": "borderRadius", "$value": "999rem" }
  }
}
```

## Sizing Scale

A comprehensive sizing system for width, height, and component dimensions:

```json
{
  "size": {
    "4xs": { "$type": "sizing", "$value": "0.0625rem" },   // 1px
    "3xs": { "$type": "sizing", "$value": "0.125rem" },    // 2px
    "2xs": { "$type": "sizing", "$value": "0.25rem" },     // 4px
    "xs": { "$type": "sizing", "$value": "0.5rem" },       // 8px
    "sm": { "$type": "sizing", "$value": "0.75rem" },      // 12px
    "md": { "$type": "sizing", "$value": "1rem" },         // 16px
    "lg": { "$type": "sizing", "$value": "1.25rem" },      // 20px
    "xl": { "$type": "sizing", "$value": "1.5rem" },       // 24px
    "2xl": { "$type": "sizing", "$value": "2rem" },        // 32px
    "3xl": { "$type": "sizing", "$value": "2.5rem" },      // 40px
    ...
  }
}
```

## Typography Primitives

### Font Families

Defined in `typography.json`:

```json
{
  "font": {
    "family": {
      "sans": { "$type": "fontFamilies", "$value": "Inter, system-ui, sans-serif" },
      "serif": { "$type": "fontFamilies", "$value": "Georgia, serif" },
      "mono": { "$type": "fontFamilies", "$value": "Consolas, Monaco, monospace" }
    }
  }
}
```

### Font Sizes

```json
{
  "font": {
    "size": {
      "xs": { "$type": "fontSize", "$value": "0.75rem" },    // 12px
      "sm": { "$type": "fontSize", "$value": "0.875rem" },   // 14px
      "md": { "$type": "fontSize", "$value": "1rem" },       // 16px
      "lg": { "$type": "fontSize", "$value": "1.125rem" },   // 18px
      "xl": { "$type": "fontSize", "$value": "1.25rem" },    // 20px
      "2xl": { "$type": "fontSize", "$value": "1.5rem" },    // 24px
      "3xl": { "$type": "fontSize", "$value": "1.875rem" },  // 30px
      "4xl": { "$type": "fontSize", "$value": "2.25rem" }    // 36px
    }
  }
}
```

### Font Weights

```json
{
  "font": {
    "weight": {
      "light": { "$type": "fontWeights", "$value": "300" },
      "regular": { "$type": "fontWeights", "$value": "400" },
      "medium": { "$type": "fontWeights", "$value": "500" },
      "semibold": { "$type": "fontWeights", "$value": "600" },
      "bold": { "$type": "fontWeights", "$value": "700" }
    }
  }
}
```

## Breakpoints

Responsive design breakpoints:

```json
{
  "breakpoint": {
    "sm": { "$type": "dimension", "$value": "640px" },   // Mobile
    "md": { "$type": "dimension", "$value": "768px" },   // Tablet
    "lg": { "$type": "dimension", "$value": "1024px" },  // Desktop
    "xl": { "$type": "dimension", "$value": "1280px" }   // Wide
  }
}
```

## File Structure

```json
// tokens/t1-primitives/color.json
{
  "$schema": {
    "$type": "other",
    "$value": "https://design-tokens.org/schemas/1.0/schema.json"
  },
  "color": {
    "white": { "$type": "color", "$value": "#ffffff" },
    "black": { "$type": "color", "$value": "#000000" },
    "gray": { ... },
    "indigo": { ... },
    // ... all color scales
  }
}
```

```json
// tokens/t1-primitives/scale.json
{
  "$schema": { ... },
  "spacing": { ... },
  "radius": { ... },
  "size": { ... },
  "breakpoint": { ... },
  "container": { ... }
}
```

```json
// tokens/t1-primitives/typography.json
{
  "$schema": { ... },
  "font": {
    "family": { ... },
    "size": { ... },
    "weight": { ... },
    "lineHeight": { ... },
    "letterSpacing": { ... }
  }
}
```

## Usage in Alias Layer

Primitives are referenced in the alias layer using curly brace syntax:

```json
// t2-alias/base.json
{
  "alias": {
    "color": {
      "neutral": {
        "1": {
          "$type": "color",
          "$value": "{color.gray.1}"  // ← References primitive
        }
      }
    }
  }
}
```

## Testing Primitives

You can test primitive values in the browser console:

```javascript
// Get computed value of a primitive
getComputedStyle(document.documentElement)
  .getPropertyValue('--color-indigo-9');
// → "#3e63dd"

// View all primitive colors
Array.from(document.styleSheets)
  .flatMap(s => Array.from(s.cssRules))
  .filter(r => r.selectorText === ':root')
  .flatMap(r => r.style)
  .filter(prop => prop.startsWith('--color-'))
  .sort();
```

## Key Takeaways

✅ **Do:**
- Use primitives as references in alias tokens
- Maintain consistent scales (multiples of 4px for spacing)
- Follow Radix Colors 12-step scale for new colors

❌ **Don't:**
- Reference primitives directly in components
- Modify primitive values without updating all references
- Create one-off values outside the scale

## Next Steps

- [← Introduction](/docs/design-tokens-01-introduction--docs) - Overview of the system
- [T2: Alias →](/docs/design-tokens-03-alias--docs) - Brand-specific references

---

**Pro Tip:** When adding new primitive values, always consider if they fit within the existing scale. Maintaining consistent scales makes the design system more predictable and easier to use.
